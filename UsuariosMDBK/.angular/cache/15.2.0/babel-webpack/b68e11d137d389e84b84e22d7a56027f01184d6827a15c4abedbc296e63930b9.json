{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Roberth/UsuariosMDBK/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Usuarios } from '../models/usuarios.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../servicios/usuarios.service\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = function () {\n  return [\"/inicio\"];\n};\nexport class CrearUsuarioComponent {\n  constructor(fb, usuariosService, activatedRoute) {\n    this.fb = fb;\n    this.usuariosService = usuariosService;\n    this.activatedRoute = activatedRoute;\n    this.today = Date.now();\n    this.date = new Date(this.today);\n    this.editMode = false;\n    this.usuarios = new Usuarios();\n    this.checkoutForm = this.fb.group({\n      id: 0,\n      nombre: \"\",\n      apellido: \"\",\n      numeroId: \"\",\n      email: \"\",\n      fechaCreacion: this.date,\n      password: \"\"\n    });\n  }\n  ngOnInit() {\n    this.activatedRoute.params.subscribe(params => {\n      if (params['id'] === undefined) {\n        return;\n      }\n      this.editMode = true;\n      this.usuarioId = Number(params['id']);\n      this.getDataById(this.usuarioId.toString());\n    });\n  }\n  getDataById(id) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      //console.log(id);\n      (yield _this.usuariosService.getUsersById(id)).subscribe(resp => {\n        _this.getDataForm(resp), error => console.error(error);\n      });\n    })();\n  }\n  getDataForm(data) {\n    this.checkoutForm.patchValue({\n      id: data.id,\n      nombre: data.nombre,\n      apellido: data.apellido,\n      numeroId: data.numeroId,\n      email: data.email,\n      fechaCreacion: data.fechaCreacion,\n      password: data.password\n    });\n  }\n  onSubmit() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.usuarios.id = _this2.checkoutForm.value.id;\n      _this2.usuarios.nombre = _this2.checkoutForm.value.nombre;\n      _this2.usuarios.apellido = _this2.checkoutForm.value.apellido;\n      _this2.usuarios.numeroId = _this2.checkoutForm.value.numeroId;\n      _this2.usuarios.email = _this2.checkoutForm.value.email;\n      _this2.usuarios.fechaCreacion = _this2.checkoutForm.value.fechaCreacion;\n      _this2.usuarios.password = _this2.checkoutForm.value.password;\n      const data = _this2.checkoutForm.value;\n      console.log(data);\n      //Add and Update post\n      if (_this2.editMode === true) {\n        try {\n          yield _this2.usuariosService.putUsersId(_this2.usuarioId.toString(), data);\n        } catch (error) {\n          console.log(error);\n          alert(\"Update Failed\");\n        }\n      } else {\n        try {\n          yield _this2.usuariosService.SendPost(data);\n          alert(\"Registration Successful\");\n        } catch (error) {\n          console.log(error);\n          alert(\"Registration Failed\");\n        }\n        _this2.checkoutForm.reset();\n      }\n    })();\n  }\n}\nCrearUsuarioComponent.ɵfac = function CrearUsuarioComponent_Factory(t) {\n  return new (t || CrearUsuarioComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.UsuariosService), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n};\nCrearUsuarioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CrearUsuarioComponent,\n  selectors: [[\"app-crear-usuario\"]],\n  decls: 42,\n  vars: 4,\n  consts: [[1, \"container\", \"col-md-7\", \"col-lg-8\"], [1, \"mb-3\"], [\"novalidate\", \"\", \"method\", \"post\", 1, \"needs-validation\", 3, \"formGroup\", \"ngSubmit\"], [1, \"row\", \"g-3\"], [1, \"col-sm-6\"], [\"for\", \"firstName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"firstName\", \"placeholder\", \"Escriba su Nombre\", \"value\", \"\", \"required\", \"\", 1, \"form-control\"], [1, \"invalid-feedback\"], [\"for\", \"lastName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"lastName\", \"placeholder\", \"Escriba su Apellido\", \"value\", \"\", \"required\", \"\", 1, \"form-control\"], [1, \"col-12\"], [\"for\", \"numId\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"numId\", \"placeholder\", \"N\\u00FAmero de Identificaci\\u00F3n\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"email\", \"placeholder\", \"you@example.com\", 1, \"form-control\"], [\"for\", \"address\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"address\", \"placeholder\", \"Escriba su password\", \"required\", \"\", 1, \"form-control\"], [1, \"col-md-10\", \"col-md-offset-2\"], [1, \"btn-personas\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-default\", 3, \"routerLink\"]],\n  template: function CrearUsuarioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\", 1);\n      i0.ɵɵtext(2, \"Registro de Usuarios\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function CrearUsuarioComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"label\", 5);\n      i0.ɵɵtext(7, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 6);\n      i0.ɵɵelementStart(9, \"div\", 7);\n      i0.ɵɵtext(10, \" El campo Nombre es requerido. \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 4)(12, \"label\", 8);\n      i0.ɵɵtext(13, \"Apellido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"input\", 9);\n      i0.ɵɵelementStart(15, \"div\", 7);\n      i0.ɵɵtext(16, \" El campo Apellido es requerido. \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 10)(18, \"label\", 11);\n      i0.ɵɵtext(19, \"Numero de Identificaci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 12);\n      i0.ɵɵelementStart(21, \"div\", 7);\n      i0.ɵɵtext(22, \" El campo Numero de Identificaci\\u00F3n es requerido. \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"div\", 10)(24, \"label\", 13);\n      i0.ɵɵtext(25, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"input\", 14);\n      i0.ɵɵelementStart(27, \"div\", 7);\n      i0.ɵɵtext(28, \" Por favor registre una direcci\\u00F3n de email v\\u00E1lida. \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"div\", 10)(30, \"label\", 15);\n      i0.ɵɵtext(31, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(32, \"input\", 16);\n      i0.ɵɵelementStart(33, \"div\", 7);\n      i0.ɵɵtext(34, \" Por favor registre un password. \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(35, \"div\", 17)(36, \"span\", 18)(37, \"button\", 19);\n      i0.ɵɵtext(38, \" Salvar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(39, \" \\u00A0 \");\n      i0.ɵɵelementStart(40, \"button\", 20);\n      i0.ɵɵtext(41, \" Cancelar \");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.checkoutForm);\n      i0.ɵɵadvance(34);\n      i0.ɵɵproperty(\"disabled\", !ctx.checkoutForm.valid);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c0));\n    }\n  },\n  dependencies: [i3.RouterLink, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective],\n  styles: [\".bd-placeholder-img[_ngcontent-%COMP%] {\\r\\n    font-size: 1.125rem;\\r\\n    text-anchor: middle;\\r\\n    -webkit-user-select: none;\\r\\n    user-select: none;\\r\\n  }\\r\\n\\r\\n  @media (min-width: 768px) {\\r\\n    .bd-placeholder-img-lg[_ngcontent-%COMP%] {\\r\\n      font-size: 3.5rem;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  .b-example-divider[_ngcontent-%COMP%] {\\r\\n    height: 3rem;\\r\\n    background-color: rgba(0, 0, 0, .1);\\r\\n    border: solid rgba(0, 0, 0, .15);\\r\\n    border-width: 1px 0;\\r\\n    box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);\\r\\n  }\\r\\n\\r\\n  .b-example-vr[_ngcontent-%COMP%] {\\r\\n    flex-shrink: 0;\\r\\n    width: 1.5rem;\\r\\n    height: 100vh;\\r\\n  }\\r\\n\\r\\n  .bi[_ngcontent-%COMP%] {\\r\\n    vertical-align: -.125em;\\r\\n    fill: currentColor;\\r\\n  }\\r\\n\\r\\n  .nav-scroller[_ngcontent-%COMP%] {\\r\\n    position: relative;\\r\\n    z-index: 2;\\r\\n    height: 2.75rem;\\r\\n    overflow-y: hidden;\\r\\n  }\\r\\n\\r\\n  .nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-wrap: nowrap;\\r\\n    padding-bottom: 1rem;\\r\\n    margin-top: -1px;\\r\\n    overflow-x: auto;\\r\\n    text-align: center;\\r\\n    white-space: nowrap;\\r\\n    -webkit-overflow-scrolling: touch;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY3JlYXItdXN1YXJpby9jcmVhci11c3VhcmlvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxtQkFBbUI7SUFDbkIsbUJBQW1CO0lBQ25CLHlCQUF5QjtJQUV6QixpQkFBaUI7RUFDbkI7O0VBRUE7SUFDRTtNQUNFLGlCQUFpQjtJQUNuQjtFQUNGOztFQUVBO0lBQ0UsWUFBWTtJQUNaLG1DQUFtQztJQUNuQyxnQ0FBZ0M7SUFDaEMsbUJBQW1CO0lBQ25CLHdGQUF3RjtFQUMxRjs7RUFFQTtJQUNFLGNBQWM7SUFDZCxhQUFhO0lBQ2IsYUFBYTtFQUNmOztFQUVBO0lBQ0UsdUJBQXVCO0lBQ3ZCLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsZUFBZTtJQUNmLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLGFBQWE7SUFDYixpQkFBaUI7SUFDakIsb0JBQW9CO0lBQ3BCLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLG1CQUFtQjtJQUNuQixpQ0FBaUM7RUFDbkMiLCJzb3VyY2VzQ29udGVudCI6WyIuYmQtcGxhY2Vob2xkZXItaW1nIHtcclxuICAgIGZvbnQtc2l6ZTogMS4xMjVyZW07XHJcbiAgICB0ZXh0LWFuY2hvcjogbWlkZGxlO1xyXG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxuICB9XHJcblxyXG4gIEBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xyXG4gICAgLmJkLXBsYWNlaG9sZGVyLWltZy1sZyB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMy41cmVtO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmItZXhhbXBsZS1kaXZpZGVyIHtcclxuICAgIGhlaWdodDogM3JlbTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgLjEpO1xyXG4gICAgYm9yZGVyOiBzb2xpZCByZ2JhKDAsIDAsIDAsIC4xNSk7XHJcbiAgICBib3JkZXItd2lkdGg6IDFweCAwO1xyXG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAuNWVtIDEuNWVtIHJnYmEoMCwgMCwgMCwgLjEpLCBpbnNldCAwIC4xMjVlbSAuNWVtIHJnYmEoMCwgMCwgMCwgLjE1KTtcclxuICB9XHJcblxyXG4gIC5iLWV4YW1wbGUtdnIge1xyXG4gICAgZmxleC1zaHJpbms6IDA7XHJcbiAgICB3aWR0aDogMS41cmVtO1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICB9XHJcblxyXG4gIC5iaSB7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogLS4xMjVlbTtcclxuICAgIGZpbGw6IGN1cnJlbnRDb2xvcjtcclxuICB9XHJcblxyXG4gIC5uYXYtc2Nyb2xsZXIge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgei1pbmRleDogMjtcclxuICAgIGhlaWdodDogMi43NXJlbTtcclxuICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcclxuICB9XHJcblxyXG4gIC5uYXYtc2Nyb2xsZXIgLm5hdiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC13cmFwOiBub3dyYXA7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMXJlbTtcclxuICAgIG1hcmdpbi10b3A6IC0xcHg7XHJcbiAgICBvdmVyZmxvdy14OiBhdXRvO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICAgIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDtcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Usuarios","CrearUsuarioComponent","constructor","fb","usuariosService","activatedRoute","Date","now","today","checkoutForm","group","id","nombre","apellido","numeroId","email","fechaCreacion","date","password","ngOnInit","params","subscribe","undefined","editMode","usuarioId","Number","getDataById","toString","getUsersById","resp","getDataForm","error","console","data","patchValue","onSubmit","usuarios","value","log","putUsersId","alert","SendPost","reset","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\Roberth\\UsuariosMDBK\\src\\app\\crear-usuario\\crear-usuario.component.ts","C:\\Users\\Roberth\\UsuariosMDBK\\src\\app\\crear-usuario\\crear-usuario.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { Usuarios } from '../models/usuarios.model';\nimport { UsuariosService } from '../servicios/usuarios.service';\nimport { IUsuarios } from './usuarios.class';\n\n@Component({\n  selector: 'app-crear-usuario',\n  templateUrl: './crear-usuario.component.html',\n  styleUrls: ['./crear-usuario.component.css']\n})\nexport class CrearUsuarioComponent implements OnInit  {\n\n  checkoutForm: any;\n  today = Date.now()\n  date: Date = new Date(this.today);\n  editMode: boolean = false;\n  usuarios: Usuarios = new Usuarios();\n  //usuarios: any;\n  usuarioId!: number;\n  \n\n  constructor(\n    private fb: FormBuilder,\n    private usuariosService: UsuariosService,\n    public activatedRoute: ActivatedRoute\n    ) { this.checkoutForm = this.fb.group({\n          id:0,\n          nombre: \"\",\n          apellido: \"\",\n          numeroId: \"\",\n          email: \"\",\n          fechaCreacion: this.date,\n          password: \"\"\n     });\n    }\n  ngOnInit(): void {\n    this.activatedRoute.params.subscribe(params => {\n      if(params['id'] === undefined){\n        return;\n      }\n    this.editMode = true;\n      this.usuarioId = Number(params['id']);\n      this.getDataById(this.usuarioId.toString())\n  });\n}\n\n  public async getDataById(id: string) {\n    //console.log(id);\n    (await this.usuariosService.getUsersById(id)).subscribe(\n      (resp: any)=> {\n      this.getDataForm(resp), \n        (error: any) => console.error(error)\n    })\n  }\n\n  getDataForm(data: any) {\n    this.checkoutForm.patchValue({\n      id: data.id,\n      nombre: data.nombre,\n      apellido: data.apellido,\n      numeroId: data.numeroId,\n      email: data.email,\n      fechaCreacion: data.fechaCreacion,\n      password: data.password,\n      \n    });\n\n}\n\nasync onSubmit(){\n\n  this.usuarios.id= this.checkoutForm.value.id;\n  this.usuarios.nombre = this.checkoutForm.value.nombre;\n  this.usuarios.apellido = this.checkoutForm.value.apellido;\n  this.usuarios.numeroId = this.checkoutForm.value.numeroId;\n  this.usuarios.email = this.checkoutForm.value.email;\n  this.usuarios.fechaCreacion = this.checkoutForm.value.fechaCreacion;\n  this.usuarios.password = this.checkoutForm.value.password\n\n  const data = this.checkoutForm.value;\n\n  console.log(data);\n  \n\n  //Add and Update post\n  if(this.editMode === true)\n  {   \n    try {\n      await this.usuariosService.putUsersId(this.usuarioId.toString(), data);\n    } catch (error) {\n      console.log(error);\n      alert(\"Update Failed\");\n    }\n\n  } else {\n    try {\n      await this.usuariosService.SendPost(data);\n      alert(\"Registration Successful\");\n      \n    } catch (error) {\n      console.log(error);\n      alert(\"Registration Failed\");\n    }\n    this.checkoutForm.reset();\n  }\n}\n}\n","    <div class=\" container col-md-7 col-lg-8\">\n      <h4 class=\"mb-3\">Registro de Usuarios</h4>\n      <form [formGroup]=\"checkoutForm\" class=\"needs-validation\" novalidate (ngSubmit)=\"onSubmit()\" method=\"post\">\n        <div class=\"row g-3\">\n          <div class=\"col-sm-6\">\n            <label for=\"firstName\" class=\"form-label\">Nombre</label>\n            <input type=\"text\" class=\"form-control\" id=\"firstName\" placeholder=\"Escriba su Nombre\" value=\"\" required>\n            <div class=\"invalid-feedback\">\n              El campo Nombre es requerido.\n            </div>\n          </div>\n\n          <div class=\"col-sm-6\">\n            <label for=\"lastName\" class=\"form-label\">Apellido</label>\n            <input type=\"text\" class=\"form-control\" id=\"lastName\" placeholder=\"Escriba su Apellido\" value=\"\" required>\n            <div class=\"invalid-feedback\">\n              El campo Apellido es requerido.\n            </div>\n          </div>\n\n          <div class=\"col-12\">\n            <label for=\"numId\" class=\"form-label\">Numero de Identificación</label>\n            <input type=\"number\" class=\"form-control\" id=\"numId\" placeholder=\"Número de Identificación\" required>\n            <div class=\"invalid-feedback\">\n              El campo Numero de Identificación es requerido.\n            </div>\n          </div>\n\n          <div class=\"col-12\">\n            <label for=\"email\" class=\"form-label\">Email</label>\n            <input type=\"email\" class=\"form-control\" id=\"email\" placeholder=\"you@example.com\">\n            <div class=\"invalid-feedback\">\n              Por favor registre una dirección de email válida.\n            </div>\n          </div>\n\n          <div class=\"col-12\">\n            <label for=\"address\" class=\"form-label\">Password</label>\n            <input type=\"password\" class=\"form-control\" id=\"address\" placeholder=\"Escriba su password\" required>\n            <div class=\"invalid-feedback\">\n              Por favor registre un password.\n            </div>\n          </div>\n\n          <div class=\"col-md-10 col-md-offset-2\">\n            <span class=\"btn-personas\">\n              <button class=\"btn btn-primary\" type=\"submit\" [disabled]=\"!checkoutForm.valid\">\n                Salvar\n              </button>\n              &nbsp;\n              <button class=\"btn btn-default\" type=\"button\" [routerLink]='[\"/inicio\"]'>\n                Cancelar\n              </button>\n            </span>\n          </div>\n     "]},"metadata":{},"sourceType":"module","externalDependencies":[]}